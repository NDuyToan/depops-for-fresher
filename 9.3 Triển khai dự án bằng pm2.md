# Triển khai dự án bằng PM2

1️⃣ Cài đặt PM2: `sudo npm install -g pm2`
2️⃣ Build dự án React (hoặc Vue/Angular)
Đứng trong thư mục dự án:

```
npm install
npm run build
```

Sau khi chạy sẽ có thư mục: `build`

3️⃣ Cài công cụ serve (dùng để chạy static build)

```
sudo npm install -g serve
```

Kiểm tra serve:

```
which serve
```

4️⃣ Chạy FE bằng PM2
Di chuyển vào thư mục chứa dự án:

```
cd /projects/vision <link chứa dự án>
```

Chạy ứng dụng bằng PM2:
`pm2 start serve --name vision -- -s build -l 3000`
Giải thích:

- `pm2 start serve` → chạy chương trình serve

- `--name vision `→ đặt tên tiến trình

- `-- `→ dấu ngăn cách để truyền tham số cho serve

- `-s build` → thư mục build

- `-l 3000` → chạy trên port 3000

KIỂM TRA:

```pm2 list
pm2 logs vision

```

Ứng dụng sẽ chạy tại:

```
http://<ip-server>:3000
```

6️⃣ Những lệnh PM2 quan trọng nhất

- Xem danh sách process: `pm2 list`
- Dừng ứng dụng: `pm2 stop vision`
- Khởi động lại: `pm2 restart vision`
- Xóa khỏi PM2: `pm2 delete vision`
- Log realtime: `pm2 logs vision`
- Xem chi tiết process: `pm2 describe vision`

PM2 Log

Log của ứng dụng nằm tại:

`~/.pm2/logs/`

Xem log:

`pm2 logs vision`

8️⃣ Gỡ PM2 Startup (nếu muốn dừng auto-start): `pm2 unstartup systemd`

9️⃣ Tổng quy trình triển khai React bằng PM2

```
sudo npm install -g pm2 serve
npm install
npm run build
pm2 start serve --name vision -- -s build -l 3000
pm2 save
pm2 startup systemd
```
